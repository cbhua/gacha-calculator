


# 今天我是欧皇吗？
这是一个关于抽卡概率计算的微信小程序。

## 背景

对于抽卡概率的误解到处都是，其中比较有名的例子：

> “UR(Ultra Rare) 的概率是 1%，我抽了 100 连也没有耶，这游戏概率是不是有坑。”

简单地计算 0.99 ^ 100 ≈ 0.366 就知道 100 连翻车的概率高达 36% 左右（高达？哪里有高达？）。

这个工具也可以帮助欧洲的朋友们计算自己到底是怎么样的天选之人，比如：

> “朋友们你们快看，我 10 连出了 5 个 UR！”
>
> “哇那你是真的 GOU！”

那么让我们来算算 252 × 0.99^5 × 0.01^5 ≈ 0.0000000239，这个概率比日本麻将纯正九宝莲灯概率还要低得多，如果真抽中了就赶紧祛厄一下吧。

因此，这个工具不仅可以给翻车的朋友们带来安慰，也可以给出货的朋友带来满足感，从而提升整体人类的幸福感，是利国利民的好事。

## 开发状态

- [x] 构建 Pages 基本元素块框架；
  - [x] index - 首页；
  - [x] cal-auto - 预设计算页面；
  - [x] cal-manu - 手动计算页面；
  - [x] result - 结果输出界面；
- [x] 页面间数据传递；
  - [x] cal-auto to result;
  - [x] cal-manu to result;
- [x] Result 页面数据计算与输出；
- [x] Result 页面文字输出；
- [x] cal-auto & cal-manu 输入鲁棒性检查；
- [x] 调整各页面 CSS；
  - [x] index;
  - [x] cal-auto;
  - [x] cal-manu;
  - [x] result;

其他特性的实现：

- [ ] Result 页面添加分享；

## 特性

### 多种游戏预设概率

针对市场上主流的一些游戏进行了预设，直接选中特定手游就可以开始计算了。 目前已有的手游包括：

| 选项   | 种类 | 概率   |
| ------ | ------ | -----|
| 明日方舟 | ★★★★★★| 2% |
| 公主链接 | ★★★ | 2.5% |
| 崩坏三(女武神) | S | 1.5% |
| 崩坏三(武器) | ★★★★ | 0.46% |
| 崩坏三(圣痕) | ★★★★ | 0.73% |
| 阴阳师 | SSR | 1.25% |
| 碧蓝航线 | ★★★★★★ | 7% |
| FGO(从者) | ★★★★★ | 1% |
| FGO(概念礼装) | ★★★★★ | 4% |
| BanGDream | ★★★★ | 3% |
| BanGDream Fes | ★★★★ | 6% |
| Love Live! | UR | 1% |

这些数据大多来自于各游戏的概率公示。实际上，大多数游戏我是没有玩过的，所以我也没办法确定概率是不是准确。

当然，我个人认为完全按照随机数来对于手游来说是不靠谱的，所以说看个热闹就可以了。

### 日麻概率参考

每次计算完概率之后，会给出一个基于日本麻雀和牌种类概率的参考，如果玩过日麻，肯定会对这些牌种的概率有所认识。这里给出各种类役种日本麻雀的和率统计，此处数据来自于2020.06.08的[天凤统计](http://tenhou.net/sc/prof.html)。

| 役种   | 和率   |
| ------ | ------ |
| 立直   | 0.4490 |
| 断幺九 | 0.2197 |
| 一发 | 0.09984 |
| 混一色 | 0.06319 |
| 七对子 | 0.02527 |
| 清一色 | 0.008721 |
| 小三元 | 0.001403 |
| 大三元 | 0.000381 |
| 国士无双 | 0.000292 |
| 小四喜 | 0.000117 |
| 四暗刻单骑 | 0.000073 |
| 字一色 | 0.000044 |
| 天和 | 0.000012 |
| 国士无双十三面 & 大四喜 | 0.000008 |
| 纯正九宝莲灯 | 0.000004 |

## 使用

这个工具使用起来非常简单，在首页有两个选项：

- 选择游戏：使用小程序中内置的游戏概率数据进行计算；
- 手动计算：手动输入数据进行计算，适用于没有包含在内的游戏，或者一些实验；

![](https://github.com/chuanbohua/wxapp-am-i-lucky/blob/master/result/index.PNG?raw=true)

在**选择游戏**页面下通过选框选择游戏，小程序会自动描述该游戏的抽卡概率。填写抽卡次数与出货次数就可以进行计算了。

![](https://github.com/chuanbohua/wxapp-am-i-lucky/blob/master/result/cal-auto.PNG?raw=true)

手动计算页面操作方式与上类似，仅多了按照百分数填写概率的选项。

![](https://github.com/chuanbohua/wxapp-am-i-lucky/blob/master/result/cal-manu.PNG?raw=true)

计算结果页面会给出本次计算的概率、描述与相应的参照。

![](https://github.com/chuanbohua/wxapp-am-i-lucky/blob/master/result/result-1.PNG?raw=true)

![](https://github.com/chuanbohua/wxapp-am-i-lucky/blob/master/result/result-6.PNG?raw=true)

# One More Thing

- 这是我第一次做微信小程序，并且尝试在 48h 内做完。过程反思之后会写在[自己的网站](https://timegg.top)上；
- 将近一半的时间花在了 UI 设计和写 CSS 上；
- 由于开发平台封装程度高，小程序开发中的坑不少；